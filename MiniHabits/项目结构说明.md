# MiniHabits 项目结构说明

## 目录结构概览

```
MiniHabits/
├── MiniHabitsApp.swift                 # 应用入口点
├── Info.plist                         # 应用配置
├── MiniHabits.entitlements           # 应用权限配置
│
├── Models/                            # 数据模型层
│   ├── Item.swift                     # 现有的示例模型
│   ├── Habit.swift                    # 习惯数据模型 (待创建)
│   ├── HabitRecord.swift              # 习惯记录模型 (待创建)
│   └── HabitTemplate.swift            # 预设模板模型 (待创建)
│
├── ViewModels/                        # 视图模型层 (MVVM)
│   ├── HabitStore.swift               # 习惯数据管理 (待创建)
│   ├── FocusTimerViewModel.swift      # 专注计时器视图模型 (待创建)
│   ├── StatisticsViewModel.swift      # 统计页面视图模型 (待创建)
│   └── SettingsViewModel.swift        # 设置页面视图模型 (待创建)
│
├── Views/                             # 视图层
│   ├── ContentView.swift              # 主要内容视图
│   │
│   ├── Home/                          # 首页相关视图
│   │   ├── HomeView.swift             # 首页主视图 (待创建)
│   │   ├── WeekNavigationView.swift   # 周导航视图 (待创建)
│   │   ├── HabitCardView.swift        # 习惯卡片视图 (待创建)
│   │   └── AddHabitCardView.swift     # 添加习惯卡片 (待创建)
│   │
│   ├── Focus/                         # 专注计时相关视图
│   │   ├── FocusTimerView.swift       # 专注计时主视图 (待创建)
│   │   ├── CircularProgressView.swift # 圆形进度视图 (待创建)
│   │   └── CompletionView.swift       # 完成庆祝视图 (待创建)
│   │
│   ├── Statistics/                    # 统计页面相关视图
│   │   ├── StatisticsView.swift       # 统计主视图 (待创建)
│   │   ├── WeeklyChartView.swift      # 周统计图表 (待创建)
│   │   └── HabitDetailView.swift      # 习惯详情视图 (待创建)
│   │
│   ├── Settings/                      # 设置页面相关视图
│   │   ├── SettingsView.swift         # 设置主视图 (待创建)
│   │   ├── ProfileView.swift          # 个人信息视图 (待创建)
│   │   ├── NotificationView.swift     # 通知设置视图 (待创建)
│   │   ├── AboutView.swift            # 关于页面 (待创建)
│   │   ├── PrivacyView.swift          # 隐私政策页面 (待创建)
│   │   └── TermsView.swift            # 服务条款页面 (待创建)
│   │
│   ├── Common/                        # 通用视图
│   │   ├── MainTabView.swift          # 主标签视图 (待创建)
│   │   ├── HabitFormView.swift        # 习惯表单视图 (待创建)
│   │   ├── EmojiPickerView.swift      # Emoji选择器 (待创建)
│   │   └── TemplateSelectionView.swift # 模板选择视图 (待创建)
│   │
│   ├── Components/                    # 可复用组件
│   │   ├── CardView.swift             # 通用卡片组件 (待创建)
│   │   ├── CustomButton.swift         # 自定义按钮组件 (待创建)
│   │   ├── ProgressRing.swift         # 进度环组件 (待创建)
│   │   ├── DatePicker.swift           # 日期选择器组件 (待创建)
│   │   └── LoadingView.swift          # 加载状态组件 (待创建)
│   │
│   └── Modifiers/                     # SwiftUI 视图修饰符
│       ├── CardModifier.swift         # 卡片样式修饰符 (待创建)
│       ├── ButtonModifier.swift       # 按钮样式修饰符 (待创建)
│       └── ShadowModifier.swift       # 阴影效果修饰符 (待创建)
│
├── Services/                          # 业务服务层
│   ├── DataService.swift              # 数据服务 (待创建)
│   ├── NotificationService.swift      # 通知服务 (待创建)
│   ├── TimerService.swift             # 计时器服务 (待创建)
│   └── HapticService.swift            # 触觉反馈服务 (待创建)
│
├── Utilities/                         # 工具类
│   ├── Constants.swift                # 常量定义 (待创建)
│   ├── DateHelper.swift               # 日期处理工具 (待创建)
│   ├── ColorPalette.swift             # 颜色调色板 (待创建)
│   └── ValidationHelper.swift         # 输入验证工具 (待创建)
│
├── Extensions/                        # 扩展
│   ├── Date+Extensions.swift          # Date 扩展 (待创建)
│   ├── Color+Extensions.swift         # Color 扩展 (待创建)
│   ├── View+Extensions.swift          # View 扩展 (待创建)
│   └── String+Extensions.swift        # String 扩展 (待创建)
│
├── Resources/                         # 资源文件
│   └── Fonts/                         # 自定义字体文件夹
│
└── Assets.xcassets/                   # 图片和颜色资源
    ├── AppIcon.appiconset/
    ├── AccentColor.colorset/
    └── Contents.json
```

## 架构原则

### 1. MVVM 架构模式
- **Models**: 纯数据模型，负责数据结构定义
- **ViewModels**: 业务逻辑处理，数据绑定和状态管理
- **Views**: 纯UI展示，通过ViewModels获取数据

### 2. 单一职责原则 (SRP)
- 每个文件和类都有明确的单一职责
- 视图只负责UI展示，不处理业务逻辑
- 服务类专注于特定功能领域

### 3. 依赖倒置原则 (DIP)
- 通过协议定义接口
- 高层模块不依赖低层模块的具体实现
- 便于测试和模块替换

### 4. 开闭原则 (OCP)
- 通过扩展增加新功能
- 不修改现有代码
- 组件化设计便于扩展

### 5. 模块化设计
- 按功能模块组织代码
- 清晰的层次结构
- 便于团队协作和维护

## 开发顺序建议

1. **Models** - 先建立数据模型基础
2. **Services** - 实现核心业务服务
3. **ViewModels** - 建立数据和视图的桥梁
4. **Components** - 创建可复用UI组件
5. **Views** - 实现具体的页面视图
6. **Utilities & Extensions** - 添加辅助工具和扩展

## 命名约定

- **文件名**: 使用 PascalCase (如: `HabitCardView.swift`)
- **类型名**: 使用 PascalCase (如: `HabitStore`)
- **变量/方法**: 使用 camelCase (如: `isCompleted`)
- **常量**: 使用 SCREAMING_SNAKE_CASE 或 camelCase

## 注意事项

1. 所有新文件都应该包含适当的文档注释
2. 遵循Swift API设计指南
3. 使用SwiftLint确保代码质量
4. 每个视图都应该有对应的预览
5. 保持文件大小合理，避免过大的文件
